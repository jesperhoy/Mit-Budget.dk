{
  "version": 3,
  "sources": ["../src/ContentRaw.ts", "../src/Directives.ts", "../src/OperationAttr.ts", "../src/ContentTemplateResult.ts", "../src/ContentText.ts", "../src/ContentComponent.ts", "../src/ContentArray.ts", "../src/ContentBase.ts", "../src/OperationContent.ts", "../src/HtmlBuilder.ts", "../src/WebComponent.ts", "../src/app.ts", "../src/memo.ts", "../src/_iife.ts"],
  "sourcesContent": ["import { Content } from \"./ContentBase\";\r\n\r\nexport class RawHtml {\r\n  html:string;\r\n  constructor(html:string) {\r\n    this.html=html;\r\n  }  \r\n}\r\n\r\nexport function CreateContentRaw(v:RawHtml,setContent:(newContent:Node)=>void):Content {\r\n  let t2=document.createElement(\"template\");\r\n  t2.innerHTML=v.html;\r\n  setContent(t2.content);\r\n  return {\r\n    Update:(nv:RawHtml)=>{},\r\n    Unload:()=>{},\r\n    MatchForUpdate:(nv:RawHtml)=> nv.html===v.html\r\n  }\r\n}", "export type DirectiveFunc= (el:HTMLElement,value:any,mods:string[],redraw:()=>Promise<void>) => (nv:any)=> void;\r\n\r\nexport const Directives=new Map<string,DirectiveFunc>;\r\n\r\ndeclare type MyFileItem = { name: string, size: number, type: string, lastModified: number };\r\ndeclare type MyFileInputValue = { id: string, files: MyFileItem[] };\r\n\r\nDirectives.set(\"validity\", (el:HTMLElement,v:any,mods:string[],redraw:()=>Promise<void>) => {\r\n    // <input #validity=${\"error message\"}>\r\n    const inp=<HTMLInputElement>el;\r\n    function SetIt(v:any) {\r\n      if(typeof v !==\"string\") throw new Error(\"Katla: #validity value must be string\");\r\n      inp.setCustomValidity(v);\r\n    }\r\n    SetIt(v);\r\n    return SetIt;\r\n  });\r\n\r\n  \r\nDirectives.set(\"ref\", (el:HTMLElement,v:any,mods:string[],redraw:()=>Promise<void>) => {\r\n    if(typeof v !==\"function\") throw new Error(\"Katla: #ref value must be function\");\r\n    v(el);\r\n    return ()=>{}\r\n  });\r\n\r\n\r\nDirectives.set(\"bind\",(el:HTMLElement,bindTo:any,mods:string[],redraw:()=>Promise<void>) => {\r\n  let tp=el.tagName.toLowerCase();\r\n  if(tp===\"input\") {\r\n    tp=(<HTMLInputElement>el).type;\r\n    if(!tp) tp=\"text\";\r\n    tp=tp.toLowerCase();\r\n  }\r\n\r\n  let BoundVal:any;\r\n  let SetVal:(v:string|number|boolean|MyFileInputValue)=>void;\r\n  let LastVal:any;\r\n\r\n  const HasTrimMod=mods.indexOf(\"trim\")>=0;\r\n\r\n  function GetValueValue():string|number {\r\n    let vv:string|number=(<HTMLInputElement>el).value;\r\n    if(tp===\"number\" || tp===\"range\" || mods.indexOf(\"number\")>=0) vv=parseInt(vv);\r\n    if(HasTrimMod) vv=(<string>vv).trim();\r\n    return vv;\r\n  }\r\n\r\n  function SetElemProp() {\r\n    SetVal=undefined;\r\n    if(Array.isArray(bindTo) && bindTo.length===2) {\r\n      if (Array.isArray(bindTo[0]) && typeof bindTo[1]===\"number\") {\r\n        // #bind=${[Array,number]} \r\n        BoundVal=bindTo[0][bindTo[1]];\r\n        SetVal=v=>bindTo[0][bindTo[1]]=v;\r\n      } else if (typeof bindTo[0]===\"object\" && typeof bindTo[1]===\"string\") {\r\n        // #bind=${[object,propName]} \r\n        if(!bindTo[0].hasOwnProperty(bindTo[1])) throw new Error(\"Katla: \" + tp + \" #bind to object does not have property '\" + bindTo[1] + \"'\");\r\n        BoundVal=bindTo[0][bindTo[1]];\r\n        SetVal=v=>bindTo[0][bindTo[1]]=v;\r\n      } else if (typeof bindTo[0]===\"function\" && typeof bindTo[1]===\"function\") {\r\n        // #bind=${[getFunc,setFunc]} - DEPRECATED\r\n        BoundVal=bindTo[0]();\r\n        SetVal=bindTo[1];\r\n      } else if (typeof bindTo[1]===\"function\") {\r\n        // #bind=${[value,setFunc]}\r\n        BoundVal=bindTo[0];\r\n        SetVal=bindTo[1];\r\n      }\r\n    } else if(Array.isArray(bindTo) && bindTo.length===1 && Array.isArray(bindTo[0])) {\r\n        // #bind=${[Array]}\r\n        if(tp!==\"checkbox\") throw new Error(\"Katla: Can only #bind to [Array] with input/checkbox\"); \r\n        BoundVal=bindTo[0];\r\n        SetVal=()=>{}; //dummy to prevent error\r\n    } \r\n    if(!SetVal) throw new Error(\"Katla: Can only #bind to {object}.PropName / [Object,string] / [Array,number] / [value,setFunc] / [Array]\");\r\n\r\n    if(tp===\"radio\") {\r\n      if(!el.hasAttribute(\"value\")) throw new Error(\"Katla: input/radio element missing 'value' attribute - for #bind\");\r\n      let vv=GetValueValue(); \r\n      let value=BoundVal===vv;\r\n      if(value===LastVal) return;\r\n      (<HTMLInputElement>el).checked=value;\r\n      LastVal=value;\r\n    } else if(tp===\"checkbox\") {\r\n      if(typeof BoundVal===\"boolean\") {\r\n        if(BoundVal===LastVal) return;\r\n        (<HTMLInputElement>el).checked=BoundVal; \r\n        LastVal=BoundVal;\r\n        return; \r\n      } else {\r\n        if(!Array.isArray(BoundVal)) throw new Error(\"Katla: #bind value for input/checkbox must be either boolean or array\");\r\n        if(!el.hasAttribute(\"value\")) throw new Error(\"Katla: input/checkbox element missing 'value' attribute - for #bind with array value\");\r\n        let vv=GetValueValue(); \r\n        let value=BoundVal.indexOf(vv)>=0;\r\n        if(value===LastVal) return;\r\n        (<HTMLInputElement>el).checked=value;\r\n        LastVal=value;\r\n      }\r\n    } else if (tp === \"file\") {\r\n      if (!BoundVal || !BoundVal.files || (<MyFileInputValue>BoundVal).files.length === 0) (<any>el).value = \"\"; \r\n    } else {\r\n      if(BoundVal===LastVal) return;\r\n      (<HTMLInputElement>el).value= Number.isNaN(BoundVal) ? '': BoundVal.toString();\r\n      LastVal=BoundVal;\r\n    }\r\n  }\r\n\r\n  SetElemProp();\r\n\r\n  function MyHandler(e:Event) {\r\n    let vv=GetValueValue();\r\n    if(tp===\"radio\") {\r\n      if(!(<HTMLInputElement>el).checked) return;\r\n      SetVal(vv);\r\n      LastVal=vv;\r\n    } else if (tp===\"checkbox\") {\r\n      let ck=(<HTMLInputElement>el).checked;\r\n      if(typeof BoundVal===\"boolean\") {\r\n        SetVal(ck);\r\n      } else {\r\n        let i=BoundVal.indexOf(vv);\r\n        if(ck && i<0) BoundVal.push(vv);\r\n        if(!ck && i>=0) BoundVal.splice(i,1); \r\n      }\r\n      LastVal=ck;\r\n    } else if (tp===\"file\") {\r\n      if (!el.id) el.id = 'file-' + (Math.floor(Math.random() * Date.now()).toString(36));\r\n      SetVal({ id: el.id, files: Array.from((<HTMLInputElement>el).files).map(f => <MyFileItem>{ name: f.name, size: f.size, type: f.type, lastModified: f.lastModified }) });\r\n    } else {\r\n      SetVal(vv);\r\n      LastVal=vv;\r\n      if(HasTrimMod && e.type===\"change\" && (<HTMLInputElement>el).value!==LastVal) (<HTMLInputElement>el).value=LastVal;\r\n    }\r\n\r\n    if(mods.indexOf(\"noredraw\")<0) redraw();\r\n  }\r\n\r\n  const HasEagerMod=mods.indexOf(\"eager\")>=0;\r\n  if(HasEagerMod) el.addEventListener(\"input\", MyHandler);\r\n  if(!HasEagerMod || HasTrimMod) el.addEventListener(\"change\", MyHandler);\r\n\r\n \r\n  return (nv:any)=>{ \r\n    bindTo=nv;\r\n    SetElemProp();\r\n  }\r\n});\r\n\r\n", "import { Directives } from \"./Directives\";\r\nimport { Operation } from \"./OperationBase\";\r\nimport {ComponentType} from \"./ContentComponent\";\r\n\r\nexport function CreateOperationAttr(node:HTMLElement,name:string,getVal:(args:any[])=>any,curComp:ComponentType,content:any): Operation {\r\n  let LastVar=content;\r\n  let DirUpdate:(v:any)=>void;\r\n\r\n  if (name.charAt(0)===\"@\") {\r\n    // event\r\n    if(typeof content !==\"function\") throw new Error(\"Katla: '\" + name + \"' handler must be function\");\r\n    let parts=name.substr(1).split(\"|\");\r\n    node.addEventListener(parts[0], e => {\r\n      if(parts.indexOf(\"self\")>0 && e.target!==node) return;\r\n      if(parts.indexOf(\"prevent\")>0) e.preventDefault();\r\n      if(parts.indexOf(\"stop\")>0) e.stopPropagation();\r\n      let frv=LastVar(e);\r\n      if(!parts.includes(\"noredraw\")) {\r\n        if (frv instanceof Promise) {\r\n          frv.then(() => curComp.$redraw());\r\n        } else {\r\n          curComp.$redraw();\r\n        }\r\n      }\r\n    },\r\n    { capture: parts.indexOf(\"capture\")>0,\r\n      once: parts.indexOf(\"once\")>0,\r\n      passive: parts.indexOf(\"passive\")>0 });  \r\n\r\n\r\n  } else if (name.charAt(0)===\".\") {\r\n    // property\r\n    (<any>node)[name.substr(1)]=content;\r\n\r\n  } else if (name.charAt(0)===\"#\") {\r\n    // directive\r\n    let parts=name.substr(1).split(\"|\");\r\n    let hh=Directives.get(parts[0]); \r\n    if(hh===undefined) throw new Error(\"Katla: Unknown directive '#\"+parts[0] + \"'\");\r\n    DirUpdate=hh(node,content,parts.slice(1),()=>curComp.$redraw());\r\n\r\n  } else {\r\n    // plain old attribute\r\n    if(content===false || content===null || content===undefined) {\r\n      // Do nothing - on creation there is no need to remove attribute if null (won't be there)\r\n    } else if(content===true) {\r\n      node.setAttribute(name,\"\");\r\n    } else {\r\n      node.setAttribute(name,content.toString());\r\n    }\r\n  }\r\n\r\n  return {\r\n    GetData:getVal,\r\n    Update: (v:any)=> {\r\n      if(v===LastVar && typeof v !==\"object\") return;\r\n      LastVar=v;\r\n      if (name.charAt(0)===\"@\") {\r\n        // event\r\n        if(typeof v !==\"function\") throw new Error(\"Katla: \" + name + \" handler must be function\");\r\n        // do nothing - LastVar already set to new function reference\r\n      } else if(name.charAt(0)===\".\") {\r\n        // property\r\n        (<any>node)[name.substr(1)]=v;\r\n      } else if(name.charAt(0)===\"#\") {\r\n        // directive\r\n        DirUpdate(v);\r\n      } else {\r\n        if(v===false || v===null || v===undefined) {\r\n          node.removeAttribute(name);\r\n        } else if(v===true) {\r\n          node.setAttribute(name,\"\");\r\n        } else {\r\n          node.setAttribute(name,v.toString());      \r\n        }\r\n      }\r\n    },\r\n    \r\n    Unload:()=>{}\r\n  }\r\n}\r\n", "import { Content } from \"./ContentBase\";\r\nimport { HtmlBuilder } from \"./HtmlBuilder\";\r\nimport {ComponentType} from \"./ContentComponent\";\r\n\r\nexport function CreateContentTemplateResult(tr:TemplateResult,setContent:(newContent:Node)=>void,curComp:ComponentType):Content {\r\n  let Live=tr.bldr.MakeLive(tr.args,curComp);\r\n  setContent(Live.ContentNode);\r\n  return {\r\n    Update:(v:TemplateResult)=>Live.Update(v.args),\r\n    Unload:Live.Unload,\r\n    MatchForUpdate:(v:TemplateResult)=>v.bldr===tr.bldr\r\n  }\r\n}\r\n\r\nexport class TemplateResult {\r\n  bldr:HtmlBuilder;\r\n  args:any[];\r\n  constructor(bldr:HtmlBuilder,args:any[]) {\r\n    this.bldr=bldr;\r\n    this.args=args;\r\n  }\r\n}", "import { Content } from \"./ContentBase\";\r\n\r\nexport function CreateContentText(v:string|number|object,setContent:(newContent:Node)=>void):Content {\r\n  let ctNode=document.createTextNode(v.toString());\r\n  setContent(ctNode);\r\n  return {\r\n    Update:newV=>{\r\n        if(newV!==v) {\r\n          v=newV;\r\n          ctNode.data=newV.toString();\r\n        }\r\n      },\r\n    Unload:()=>{},\r\n    MatchForUpdate:v=>true\r\n  }\r\n}", "import {GetContentType, ContentType, CreateContent, Content} from \"./ContentBase\";\r\n\r\nexport type ComponentType = {\r\n  render:()=>any;\r\n  load?:()=>void;\r\n  unload?:()=>void;\r\n  $get?:(key:string)=>any;\r\n  $set?:(key:string,v:any)=>void;\r\n  $parent?:ComponentType;\r\n  $redraw?:()=>Promise<void>;\r\n  /** @deprecated Use .$redraw instead */\r\n  $app?:{redraw:()=>Promise<void>};  // only for backwards compat\r\n}\r\n\r\nexport type ComponentWrapper=[new()=>ComponentType] |\r\n  [new()=>ComponentType,Object] |\r\n  [new()=>ComponentType,Object,(c:ComponentType)=>void];\r\n\r\n\r\nexport function HookUpContext(comp:ComponentType,parentComp:ComponentType=null) {\r\n  let CtxValues:Map<string,any>;\r\n  comp.$get=(key:string):any=>{\r\n    if(CtxValues && CtxValues.has(key)) return CtxValues.get(key);\r\n    if(parentComp) return parentComp.$get(key);\r\n    return undefined;\r\n  };\r\n  comp.$set=(key:string,v:any)=>{\r\n    if(!CtxValues) CtxValues=new Map<string,any>();\r\n    CtxValues.set(key,v);\r\n  }\r\n}\r\n\r\nexport function CreateContentComponent(cw:ComponentWrapper,setContent:(newContent:Node)=>void, curComp:ComponentType):Content {\r\n  let comp = new cw[0];\r\n  comp.$parent=curComp;\r\n  comp.$redraw=()=>curComp.$redraw();\r\n  comp.$app={redraw:()=>curComp.$redraw()}; // only for backwards compat\r\n  HookUpContext(comp,curComp);\r\n\r\n  if(cw.length>1) Object.assign(comp,cw[1]);\r\n  if(cw.length>2) cw[2](comp);\r\n  if(comp.load) comp.load();\r\n  if(!comp.render || typeof comp.render!==\"function\") throw new Error(\"Katla: Component must have .render method\");\r\n  let Output=comp.render();\r\n  let ctType=GetContentType(Output);\r\n  let Content=CreateContent(Output,setContent,comp);\r\n  \r\n  let WasUnloaded=false;\r\n  return {\r\n    Update:(v:ComponentWrapper)=>{\r\n      if(WasUnloaded) return;\r\n      cw=v;\r\n      if(cw.length>1) Object.assign(comp,cw[1]);\r\n      Output=comp.render();\r\n      let ctType2=GetContentType(Output);\r\n      if(ctType2===ContentType.NoChange) return;\r\n      if(ctType===ctType2 && Content.MatchForUpdate(Output)) {\r\n        Content.Update(Output)\r\n      } else {\r\n        Content.Unload();\r\n        ctType=ctType2;\r\n        Content=CreateContent(Output,setContent,comp);\r\n      }\r\n    },\r\n    Unload:()=>{\r\n      if(WasUnloaded) return;\r\n      if(comp.unload) comp.unload();\r\n      Content.Unload();\r\n      WasUnloaded=true;\r\n    },\r\n    MatchForUpdate:(v:ComponentWrapper)=> cw[0] === v[0]\r\n  }\r\n}\r\n", "import {CreateOperationContent}  from \"./OperationContent\";\r\nimport { Content } from \"./ContentBase\";\r\nimport {ComponentType} from \"./ContentComponent\";\r\nimport {Operation} from \"./OperationBase\";\r\n\r\nexport function CreateContentArray(v:any[],setContent:(newContent:Node)=>void,curComp:ComponentType):Content {\r\n  let arrOps:Operation[]=[];\r\n  let Comments:Comment[]=[];\r\n\r\n  function AddOne(content:any) {\r\n    const idx=arrOps.length;\r\n    let cmt=document.createComment(\"\");\r\n    let cc=Comments[idx];\r\n    Comments.splice(idx,0,cmt);\r\n    cc.parentNode.insertBefore(cmt, cc);\r\n    arrOps.push(CreateOperationContent((newContent:Node)=>{\r\n      let r=document.createRange();\r\n      r.setStartAfter(Comments[idx]);\r\n      r.setEndBefore(Comments[idx+1]);\r\n      r.deleteContents();\r\n      if(newContent) r.insertNode(newContent);\r\n    },-1,curComp,content));\r\n  }\r\n  \r\n  function RemoveOne(idx:number) {\r\n    let r=document.createRange();\r\n    r.setStartAfter(Comments[idx]);\r\n    r.setEndAfter(Comments[idx+1]);\r\n    r.deleteContents();\r\n    Comments.splice(idx+1,1);\r\n    arrOps[idx].Unload();\r\n    arrOps.splice(idx,1);\r\n  }\r\n  \r\n  //let tmpl=document.createElement(\"template\");\r\n  let frag=new DocumentFragment();\r\n  let cmt=document.createComment(\"\");\r\n  Comments.push(cmt);\r\n  frag.append(cmt);\r\n  for(const itm of v) AddOne(itm);\r\n  setContent(frag);\r\n  \r\n  return {\r\n    Update:items=>{\r\n      for(let i=0;i<items.length || i<arrOps.length;i++) {\r\n        if(i<items.length && i<arrOps.length) {\r\n          arrOps[i].Update(items[i])\r\n        } else if (items.length<arrOps.length) {\r\n          // new length is less - so delete remaining\r\n          RemoveOne(i);\r\n          i-=1;\r\n        } else {\r\n          // new length is more - so insert remaining\r\n          AddOne(items[i]);\r\n        }\r\n      }\r\n    },\r\n\r\n    Unload:()=>{arrOps.forEach(op=>op.Unload());arrOps=[]},\r\n\r\n    MatchForUpdate:v=>true\r\n  }\r\n}\r\n", "import { CreateContentTemplateResult, TemplateResult } from \"./ContentTemplateResult\";\r\nimport { CreateContentRaw,RawHtml } from \"./ContentRaw\";\r\nimport { CreateContentText } from \"./ContentText\";\r\nimport { ComponentType, CreateContentComponent} from \"./ContentComponent\";\r\nimport { CreateContentArray } from \"./ContentArray\";\r\n\r\nexport type Content={\r\n  Update:(v:any)=>void;\r\n  Unload:()=>void;\r\n  MatchForUpdate:(v:any)=>boolean;\r\n}\r\n\r\nexport const enum ContentType  {\r\n  Null,\r\n  Text,\r\n  Component,\r\n  Raw,\r\n  TemplateResult,\r\n  NoChange,\r\n  Array,\r\n}\r\n\r\nexport function GetContentType(v:any):ContentType {\r\n  if(v===null || v===\"\" || v===false) return ContentType.Null;\r\n  if(v instanceof TemplateResult) return ContentType.TemplateResult;\r\n  if(Array.isArray(v)) return v.length>0 && typeof v[0]===\"function\" ? ContentType.Component : ContentType.Array;\r\n  if(v instanceof RawHtml) return ContentType.Raw;\r\n  if(v instanceof NoChange)  return ContentType.NoChange;\r\n  if(typeof v ===\"string\" || typeof v===\"number\" || typeof v===\"object\") return ContentType.Text;\r\n  throw new Error(\"Katla: Unknown content type: \" + typeof v);\r\n}\r\n\r\nexport function CreateContent(v:any,setContent:(newContent:Node)=>void,curComp:ComponentType):Content {\r\n  let tp=GetContentType(v)\r\n  switch(tp) {\r\n    case ContentType.Null:\r\n      setContent(null);\r\n      return {Update:v=>{},Unload:()=>{},MatchForUpdate:v=>true};\r\n    case ContentType.Text:\r\n      return CreateContentText(<string|number|object>v,setContent);\r\n    case ContentType.Component:\r\n      return CreateContentComponent(v,setContent,curComp);\r\n    case ContentType.Raw:\r\n      return CreateContentRaw(v,setContent);\r\n    case ContentType.TemplateResult:\r\n      return CreateContentTemplateResult(v,setContent,curComp);\r\n    case ContentType.Array:\r\n      return CreateContentArray(v,setContent,curComp);\r\n    case ContentType.NoChange:\r\n      throw new Error(\"Katla: NoChange at creation\");\r\n  }   \r\n}\r\n\r\nexport class NoChange {\r\n}", "import { GetContentType,ContentType,CreateContent,Content } from \"./ContentBase\";\r\nimport { Operation } from \"./OperationBase\";\r\nimport {ComponentType} from \"./ContentComponent\";\r\n\r\nexport function CreateOperationContent(setContent:(newContent:Node)=>void, varIdx:number, curComp:ComponentType, content:any):Operation {\r\n  let ctType=GetContentType(content);\r\n  let Content:Content;\r\n\r\n  let rv:Operation= {\r\n    GetData: (args:any[])=> args[varIdx],\r\n    Update: (v:any)=> {\r\n      let ctType2=GetContentType(v);\r\n      if(ctType2===ContentType.NoChange) return;\r\n      if(ctType===ctType2 && Content.MatchForUpdate(v)) {\r\n        Content.Update(v)\r\n      } else {\r\n        Content.Unload();\r\n        ctType=ctType2;\r\n        Content=CreateContent(v,setContent,curComp);\r\n      }\r\n    },\r\n    Unload:()=> ()=> Content.Unload(),\r\n  }\r\n\r\n  Content=CreateContent(content,setContent,curComp);\r\n  return rv;\r\n}\r\n\r\n\r\n", "import { CreateOperationAttr } from \"./OperationAttr\";\r\nimport { Operation } from \"./OperationBase\";\r\nimport {CreateOperationContent, OperationContent} from \"./OperationContent\";\r\nimport {ComponentType} from \"./ContentComponent\";\r\n\r\ntype PlaceHolder = {\r\n  path:number[],\r\n  CreateOp:(node:HTMLElement,curComp:ComponentType,args:any[])=>Operation|null\r\n}\r\n\r\nexport class HtmlBuilder {\r\n  #phs:PlaceHolder[]=[];\r\n  #tmpl=document.createElement(\"template\");\r\n\r\n  constructor(fixed:TemplateStringsArray) {\r\n    let x=\"\";\r\n    for(let i=0;i<fixed.length-1;i++) {\r\n      x +=fixed[i];\r\n      x +=this.#InAttr(x) ? '{{fv' + i + '}}' : '<!--{{fv' + i + '}}-->'; \r\n    }\r\n    x+=fixed[fixed.length-1];\r\n    this.#tmpl.innerHTML=x;\r\n    this.#FillPlaceHolders(this.#tmpl.content,[]);     \r\n  }\r\n\r\n  #InAttr(x:string) {\r\n    return x.lastIndexOf(\"<\") > x.lastIndexOf(\">\");\r\n  }\r\n\r\n  // is a function because it needs to call itself recursively\r\n  #FillPlaceHolders(node:Node,path:number[]) {\r\n    let cn:Node,x:string,k:number,fvID:number,attr:Attr,cnPath:number[];\r\n    for(let i=0;i<node.childNodes.length;i++) {\r\n      cn=node.childNodes[i];\r\n      cnPath=path.concat(i);\r\n      if(cn.nodeType===1) { //element\r\n        let cne=<HTMLElement>cn;\r\n        // if this is a <select> element - process children first - cannot set value before children present\r\n        if(cne.tagName.toLowerCase()===\"select\") this.#FillPlaceHolders(cn,cnPath);\r\n        let classSC:{class:string,argidx:number}[]=[];\r\n        let dirPhs:PlaceHolder[]=[];\r\n        let gotClass=false;\r\n        for(let j=0; j<cne.attributes.length;j++) {\r\n          attr=cne.attributes[j];\r\n          if(attr.name===\"class\") {\r\n            if(classSC.length>0) throw new Error(\"Katla: Cannot combine 'class' and 'class:...' attributes on same element\");\r\n            gotClass=true;\r\n          }\r\n          x=attr.value;\r\n          k=x.indexOf(\"{{fv\");\r\n          if(k<0){\r\n            if(attr.name.startsWith(\"class:\")) throw new Error(\"Katla: \" + attr.name + \" attribute must have ${boolean} value\");\r\n            if(attr.name.charAt(0)===\"#\" || attr.name.charAt(0)===\".\") {\r\n            // fixed value special attribute \r\n              (attr.name.charAt(0)===\"#\"?dirPhs:this.#phs).push(CreatePlaceholderAttrStatic(cnPath,attr.name,x)); // 1=static value\r\n              cne.removeAttribute(attr.name);\r\n              j-=1;\r\n            }\r\n            continue;\r\n          }\r\n          let va:(string|number)[]=[];\r\n          while(k>=0) {\r\n            if(k>0) va.push(x.substr(0,k));\r\n            x=x.substr(k+4)\r\n            k=x.indexOf(\"}}\");\r\n            if(k<0) throw new Error(\"Katla: Unexpected missing }}\");\r\n            fvID=parseInt(x.substr(0,k));\r\n            va.push(fvID);\r\n            x=x.substr(k+2);\r\n            k=x.indexOf(\"{{fv\");\r\n          }\r\n          if(x.length>0) va.push(x);\r\n          if(va.length===1) {\r\n            // simple attribute (type 2)\r\n            if(attr.name.startsWith(\"class:\")) {\r\n              if(gotClass) throw new Error(\"Katla: Cannot combine 'class' and 'class:...' attributes on same element\");\r\n              classSC.push({class:attr.name.substr(6),argidx:<number>(va[0])})\r\n            } else {\r\n              (attr.name.charAt(0)===\"#\"?dirPhs:this.#phs).push(CreatePlaceholderAttrDynamic(cnPath, attr.name, <number>(va[0]))); \r\n            }\r\n          } else {\r\n            if(attr.name.startsWith(\"class:\")) throw new Error(\"Katla: \" + attr.name + \" attribute must have ${boolean} value\");\r\n            // concat attribute (type 3)\r\n            (attr.name.charAt(0)===\"#\"?dirPhs:this.#phs).push(CreatePlaceholderAttrConcat(cnPath,attr.name,va)); \r\n          }\r\n          cne.removeAttribute(attr.name);\r\n          j-=1;\r\n        }\r\n        if(classSC.length>0) this.#phs.push(CreatePlaceholderAttrClasses(cnPath,classSC)); \r\n        // add placeholders for directives (attr.name start with #) last - so other attributes are set before directives run\r\n        this.#phs.push(...dirPhs);\r\n        if(cne.tagName.toLowerCase()!==\"select\") this.#FillPlaceHolders(cn,cnPath);\r\n\r\n      } else if (cn.nodeType===8) { //nodeType 8 = comment\r\n        let cnc=<Comment>cn;\r\n        if(cnc.data.substr(0,4)===\"{{fv\") {\r\n          fvID=parseInt(cnc.data.substr(4,cnc.data.length-6));\r\n          if(node.childNodes.length==1) {\r\n            cnc.remove();\r\n            this.#phs.push(CreatePlaceholderContent(path,fvID,true));\r\n          } else {\r\n            cnc.data=\"\";\r\n            node.insertBefore(document.createComment(\"\"),cn);\r\n            this.#phs.push(CreatePlaceholderContent(cnPath,fvID,false));\r\n            i+=1;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  MakeLive(args:any[],curComp:ComponentType) {\r\n    let cl=this.#tmpl.content.cloneNode(true); \r\n    let ops=this.#phs.map(ph=>{\r\n      // get all nodes first - because ph.CreateOp will insert new node - changing indexes\r\n      let n=cl;\r\n      ph.path.forEach(idx=>n=n.childNodes[idx])\r\n      return {ph,n};\r\n    }).map(itm=> itm.ph.CreateOp(<HTMLElement>(itm.n),curComp,args)).filter(op=>op!==null);\r\n\r\n    //oc.SetContent(cl);\r\n    return {ContentNode: cl,\r\n            Update: (args:any[])=>{for(const op of ops) op.Update(op.GetData(args))},\r\n            Unload: ()=> {for(const op of ops) op.Unload()}};\r\n  }\r\n}\r\n\r\n\r\n\r\nfunction CreatePlaceholderAttrStatic(path:number[],name:string,value:string):PlaceHolder {\r\n  return {\r\n    path:path,\r\n    CreateOp(node:HTMLElement,curComp:ComponentType,args:any[]):Operation|null {\r\n      let getVal=(args:any[])=>value;\r\n      // this is executed also for static - because it initializes the attribute with the static value\r\n      CreateOperationAttr(node,name, getVal,curComp, getVal(args)); \r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nfunction CreatePlaceholderAttrDynamic(path:number[],name:string,value:number):PlaceHolder {\r\n  if(name.startsWith(\"_\")) name=name.substring(1);\r\n  return {\r\n    path:path,\r\n    CreateOp(node:HTMLElement,curComp:ComponentType,args:any[]):Operation|null {\r\n      let getVal=(args:any[])=>args[value];\r\n      return CreateOperationAttr(node,name, getVal, curComp, getVal(args)); \r\n    }\r\n  }\r\n}\r\n\r\nfunction CreatePlaceholderAttrConcat(path:number[],name:string,value:(string|number)[]):PlaceHolder {\r\n  if(name.startsWith(\"_\")) name=name.substring(1);\r\n  return {\r\n    path:path,\r\n    CreateOp(node:HTMLElement,curComp:ComponentType,args:any[]):Operation|null {\r\n      let getVal: (args:any[])=>any;\r\n      if((name===\"#bind\" || name.substr(0,6)===\"#bind|\") && value.length===2 && typeof value[1]===\"string\" && value[1].charAt(0)===\".\") {\r\n        // #bind={obj}.prop\r\n        //getVal=(args:any[])=>MakeRef(args[<number>(value[0])],(<string>(value[1])).substr(1));\r\n        getVal=(args:any[])=>[args[<number>(value[0])] , (<string>(value[1])).substr(1)] //turn it into [Object,propName]\r\n      }  else {\r\n        getVal=(args:any[])=>value.map((p:string|number)=> typeof p===\"string\" ? p : args[p].toString()).join(\"\");\r\n      }\r\n      return CreateOperationAttr(node,name, getVal, curComp, getVal(args)); \r\n    }\r\n  }\r\n}\r\n\r\nfunction CreatePlaceholderAttrClasses(path:number[],value:{class:string,argidx:number}[]):PlaceHolder {\r\n  return {\r\n    path:path,\r\n    CreateOp(node:HTMLElement,curComp:ComponentType,args:any[]):Operation|null {\r\n      let getVal=(args:any[])=>{\r\n        let rv=\"\";\r\n        let v:unknown;\r\n        for(let i=0;i<value.length;i++) {\r\n          v=args[value[i].argidx];\r\n          if(typeof v!==\"boolean\") throw new Error(\"Katla: class:\" + value[i].class + \" value must be boolean\");\r\n          if(v) rv+=(rv.length>0?\" \":\"\") + value[i].class;\r\n        }\r\n        return rv.length===0 ? false:rv;\r\n      }\r\n      return CreateOperationAttr(node,\"class\", getVal, curComp, getVal(args)); \r\n    }\r\n  }\r\n}\r\n\r\nfunction CreatePlaceholderContent(path:number[],varidx:number,single:boolean):PlaceHolder {\r\n  return {\r\n    path:path,\r\n    CreateOp(node:HTMLElement,curComp:ComponentType,args:any[]):Operation|null {\r\n      if(single) return CreateOperationContent( newContent => {\r\n                            node.innerHTML=\"\";\r\n                            if(newContent) node.appendChild(newContent);\r\n                          },varidx,curComp,args[varidx]);\r\n      let NodeEnd=node.nextSibling;\r\n      return CreateOperationContent(newContent => {\r\n        let r:Range=document.createRange();\r\n        r.setStartAfter(node);\r\n        r.setEndBefore(NodeEnd);\r\n        r.deleteContents();\r\n        if(newContent) r.insertNode(newContent);\r\n      },varidx,curComp,args[varidx]);\r\n    }\r\n  };\r\n}\r\n", "import {CreateOperationContent} from \"./OperationContent\";\r\nimport {HookUpContext} from \"./ContentComponent\";\r\nimport {Operation} from \"./OperationBase\";\r\n\r\nexport abstract class WebComponent extends HTMLElement {\r\n  abstract render():any;\r\n  load():void {}\r\n\r\n  #OC:Operation;\r\n\r\n  #Initialized:boolean=false;\r\n  #PropValues:any;\r\n  \r\n  constructor() {\r\n    super();\r\n    HookUpContext(this);\r\n    // we must grab any prop values set onto HTMLElement here - before object is converted to final component type\r\n    if((<any>this.constructor).props) {\r\n      this.#PropValues={};\r\n      for(const name in (<any>this.constructor).props) {\r\n        if(!(name in this)) continue;\r\n        //console.debug(\"Getting prop '\" + name + \"' set-from-outside value = \" + (<any>this)[name]);\r\n        this.#PropValues[name]=(<any>this)[name];\r\n      }\r\n      for(const name in this.#PropValues) delete (<any>this)[name];\r\n    }\r\n  }\r\n  \r\n  connectedCallback() {\r\n    if(this.#Initialized) return;\r\n\r\n    // we must wait until here to setup props - because final component type not available in constructor\r\n    // attributes will be set before this\r\n    if((<any>this.constructor).props) {\r\n      for(const name in (<any>this.constructor).props) {\r\n        if(!(name in this.#PropValues) && name in this) {\r\n          // Not provided from outside (=in #PropValues) but is in this.name now = default value or attribute value\r\n          // console.debug(\"Getting prop '\" + name + \"' value = \" + (<any>this)[name]);\r\n          this.#PropValues[name]=(<any>this)[name];\r\n        }\r\n      }\r\n      for(const name in this.#PropValues) delete (<any>this)[name];\r\n      for(const name in (<any>this.constructor).props) {\r\n        Object.defineProperty(this,name,{\r\n          get: ()=>this.#PropValues[name],\r\n          set: v=>{\r\n            this.#PropValues[name]=v;\r\n            if(this.#OC) this.$redraw(); // don't redraw if before first draw\r\n          },\r\n          configurable:false,\r\n          enumerable:true\r\n        });\r\n      }\r\n    }\r\n    \r\n    this.#Initialized=true;\r\n    this.load();\r\n    this.#OC=CreateOperationContent((newContent:Node)=>{\r\n        this.innerHTML=\"\";\r\n        if(newContent) this.appendChild(newContent)\r\n      },-1, this ,this.render());\r\n  }\r\n\r\n  #RedrawPromise:Promise<void>=null;\r\n  $redraw():Promise<void> {\r\n    if(!this.#Initialized) return Promise.resolve();\r\n    if(this.#RedrawPromise==null) {\r\n      this.#RedrawPromise=new Promise<void>((resolve,reject)=>{\r\n        requestAnimationFrame(()=>{\r\n          this.#RedrawPromise=null;\r\n          try {\r\n            this.#OC.Update(this.render())\r\n            resolve();\r\n            dispatchEvent(new Event(\"katla:redraw\"));\r\n          } catch(ex) {\r\n            console.error(ex);\r\n            reject(ex);\r\n          }\r\n        });\r\n      });\r\n    }\r\n    return this.#RedrawPromise;\r\n  }\r\n  \r\n  static get observedAttributes():string[] {\r\n    if(!(<any>this).props) return [];\r\n    let rv:string[]=[];\r\n    for(const name in (<any>this).props) if((<any>this).props[name]) rv.push(name);\r\n    return rv;\r\n  };\r\n\r\n  attributeChangedCallback(name:string, oldValue:string, newValue:string) {\r\n    // console.debug(\"Atribute '\" + name + \"' changed from '\" + oldValue + \"' to '\" + newValue +\"'\");\r\n    (<any>this)[name]=(<any>this.constructor).props[name](newValue); \r\n  }\r\n\r\n}\r\n", "import { HtmlBuilder } from \"./HtmlBuilder\";\r\nimport { TemplateResult } from \"./ContentTemplateResult\";\r\nimport { WebComponent } from \"./WebComponent\";\r\n\r\nlet CachedBuilders=new Map<TemplateStringsArray,HtmlBuilder>();\r\nexport function html(fixed:TemplateStringsArray,...args:any[]) {\r\n  let bldr=CachedBuilders.get(fixed);\r\n  if(!bldr) {\r\n    bldr=new HtmlBuilder(fixed);\r\n    CachedBuilders.set(fixed,bldr);\r\n  }\r\n  return new TemplateResult(bldr,args);\r\n}\r\n\r\nclass AppComponent extends WebComponent {\r\n  RenderApp:()=>any;\r\n  render():any {\r\n    return this.RenderApp();\r\n  }\r\n}\r\ncustomElements.define(\"katla-app\",AppComponent);\r\n\r\nexport function mount(el:string|Element,render:()=>any):()=>Promise<void> {\r\n  if (typeof el === \"string\") el = document.querySelector(el);\r\n  let ac=<AppComponent>document.createElement(\"katla-app\");\r\n  ac.RenderApp=render;\r\n  el.appendChild(ac);\r\n  return ()=>ac.$redraw();\r\n}\r\n", "import { NoChange } from \"./ContentBase\";\r\nimport { ComponentWrapper } from \"./ContentComponent\";\r\n\r\nclass compMemo {\r\n  deps:any[];\r\n  render2:()=>any;\r\n  #lastDeps:any[];\r\n  render() {\r\n    if(this.#lastDeps && this.#lastDeps.length===this.deps.length) {\r\n      let same=true;\r\n      for(let i=0;i<this.#lastDeps.length;i++) {\r\n        if(this.#lastDeps[i]!==this.deps[i]) {same=false;break;}\r\n      }\r\n      if(same) {\r\n        this.deps=undefined;\r\n        return new NoChange();\r\n      }\r\n    }\r\n    this.#lastDeps=Object.assign({},this.deps);\r\n    this.deps=undefined;\r\n    return this.render2();\r\n  }\r\n}\r\n\r\nexport function memo(deps:any[],render:()=>any):ComponentWrapper {\r\n  if(!deps || !Array.isArray(deps)) throw new Error(\"Katla: memo deps argument must be array\");\r\n  if(!render || typeof render!==\"function\") throw new Error(\"Katla: memo render argument must be function\");\r\n  return [compMemo,{deps,render2:render}];\r\n}\r\n", "import { RawHtml } from \"./ContentRaw\";\r\nimport { html, mount } from './app';\r\nimport { memo } from \"./memo\";\r\nimport { Directives, DirectiveFunc } from \"./Directives\";\r\nimport {WebComponent} from \"./WebComponent\";\r\n\r\nconst raw= (html:string)=> new RawHtml(html);\r\n\r\nconst directive= (name:string, f:DirectiveFunc) => Directives.set(name,f);\r\n\r\n/** @deprecated Use .mount or extend .WebComponent instead */\r\nconst app=(el:string|Element,render:()=>any)=> {\r\n  return {redraw:mount(el,render)};\r\n}\r\n\r\n(<any>globalThis).Katla={app,html,mount,raw,directive,memo,WebComponent};\r\n(<any>globalThis).html=html;\r\n"],
  "mappings": "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",
  "names": ["RawHtml", "html", "CreateContentRaw", "v", "setContent", "t2", "nv", "Directives", "el", "v", "mods", "redraw", "inp", "SetIt", "bindTo", "tp", "BoundVal", "SetVal", "LastVal", "HasTrimMod", "GetValueValue", "vv", "SetElemProp", "value", "MyHandler", "e", "ck", "i", "f", "HasEagerMod", "nv", "CreateOperationAttr", "node", "name", "getVal", "curComp", "content", "LastVar", "DirUpdate", "parts", "e", "frv", "hh", "Directives", "v", "CreateContentTemplateResult", "tr", "setContent", "curComp", "Live", "v", "TemplateResult", "bldr", "args", "CreateContentText", "v", "setContent", "ctNode", "newV", "HookUpContext", "comp", "parentComp", "CtxValues", "key", "v", "CreateContentComponent", "cw", "setContent", "curComp", "Output", "ctType", "GetContentType", "Content", "CreateContent", "WasUnloaded", "ctType2", "CreateContentArray", "v", "setContent", "curComp", "arrOps", "Comments", "AddOne", "content", "idx", "cmt", "cc", "CreateOperationContent", "newContent", "r", "RemoveOne", "frag", "itm", "items", "i", "op", "GetContentType", "v", "TemplateResult", "RawHtml", "NoChange", "CreateContent", "setContent", "curComp", "CreateContentText", "CreateContentComponent", "CreateContentRaw", "CreateContentTemplateResult", "CreateContentArray", "CreateOperationContent", "setContent", "varIdx", "curComp", "content", "ctType", "GetContentType", "Content", "rv", "args", "v", "ctType2", "CreateContent", "HtmlBuilder", "#phs", "#tmpl", "fixed", "x", "i", "#InAttr", "#FillPlaceHolders", "node", "path", "cn", "k", "fvID", "attr", "cnPath", "cne", "classSC", "dirPhs", "gotClass", "j", "CreatePlaceholderAttrStatic", "va", "CreatePlaceholderAttrDynamic", "CreatePlaceholderAttrConcat", "CreatePlaceholderAttrClasses", "cnc", "CreatePlaceholderContent", "args", "curComp", "cl", "ops", "ph", "n", "idx", "itm", "op", "name", "value", "getVal", "CreateOperationAttr", "p", "rv", "v", "varidx", "single", "CreateOperationContent", "newContent", "NodeEnd", "r", "WebComponent", "#OC", "#Initialized", "#PropValues", "HookUpContext", "name", "v", "CreateOperationContent", "newContent", "#RedrawPromise", "resolve", "reject", "ex", "rv", "oldValue", "newValue", "CachedBuilders", "html", "fixed", "args", "bldr", "HtmlBuilder", "TemplateResult", "AppComponent", "WebComponent", "mount", "el", "render", "ac", "compMemo", "#lastDeps", "same", "i", "NoChange", "memo", "deps", "render", "raw", "html", "RawHtml", "directive", "name", "f", "Directives", "app", "el", "render", "mount", "memo", "WebComponent"]
}
